"use strict";(self.webpackChunkcadence=self.webpackChunkcadence||[]).push([[1963],{2447:(e,o,n)=>{n.r(o),n.d(o,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>s,metadata:()=>t,toc:()=>c});var t=n(9390),a=n(4848),i=n(8453);const s={title:"Zonal Isolation for Cadence Workflows",subtitle:"test",date:new Date("2024-10-14T00:00:00.000Z"),authors:"shaddoll",tags:["deep-dive","cadence-operations"]},r=void 0,l={authorsImageUrls:[void 0]},c=[{value:"What is Zonal Isolation for Cadence Workflows?",id:"what-is-zonal-isolation-for-cadence-workflows",level:2}];function d(e){const o={h2:"h2",li:"li",ol:"ol",p:"p",strong:"strong",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.p,{children:"At Uber, we want to achieve regional resilience such that losing a zone within a region can be tolerated without requiring a cross-region failover. We also want to make sure that losing a zone only affects a subset of workload, at most, rather than everything. However, in Cadence-based systems, the workload in a region is distributed randomly across all workers in the region at a \u201ctask-level granularity\u201d, which means a workflow may be worked on by any worker in the region where the domain is active. To achieve this goal, we introduced Zonal Isolation for Cadence Workflows - a feature designed to pin workflows to the zone they are started in, so that zonal isolation can be achieved at a workflow-level."}),"\n",(0,a.jsx)(o.h2,{id:"what-is-zonal-isolation-for-cadence-workflows",children:"What is Zonal Isolation for Cadence Workflows?"}),"\n",(0,a.jsx)(o.p,{children:"At high-level, Zonal Isolation for Cadence Workflows can be thought in 2 levels:"}),"\n",(0,a.jsxs)(o.ol,{children:["\n",(0,a.jsxs)(o.li,{children:[(0,a.jsx)(o.strong,{children:"Task-level isolation:"})," All decision tasks and activity tasks of a workflow are only processed by workers from the zone where the workflow was started"]}),"\n",(0,a.jsxs)(o.li,{children:[(0,a.jsx)(o.strong,{children:"Infrastructure-level isolation:"})," Within a regional Cadence cluster, workflows are handled by server instances in the same zone where they were started, and the corresponding data is stored in that zone as well."]}),"\n"]}),"\n",(0,a.jsx)(o.p,{children:"Infrastructure-level isolation is quite challenging to implement as it requires significant changes to the core design of the Cadence server. Due to the complexity involved, support for this feature is not planned for the foreseeable future."}),"\n",(0,a.jsx)(o.p,{children:"As a result, the focus remains on achieving task-level zonal isolation outside the Cadence server, which offers a more practical and immediate way to improve system resilience. It provides the capability of ensuring that an unhealthy zone (i.e. bad deployment of workers) only affect a subset of workflows (started from a certain zone) rather than every workflow in a Cadence domain."})]})}function h(e={}){const{wrapper:o}={...(0,i.R)(),...e.components};return o?(0,a.jsx)(o,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},8453:(e,o,n)=>{n.d(o,{R:()=>s,x:()=>r});var t=n(6540);const a={},i=t.createContext(a);function s(e){const o=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function r(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),t.createElement(i.Provider,{value:o},e.children)}},9390:e=>{e.exports=JSON.parse('{"permalink":"/Cadence-Docs/blog/zonal-isolation-v1/zonal-isolation-v1","editUrl":"https://github.com/cadence-workflow/Cadence-Docs/tree/master/blog/zonal-isolation-v1/zonal-isolation-v1.md","source":"@site/blog/zonal-isolation-v1/zonal-isolation-v1.md","title":"Zonal Isolation for Cadence Workflows","description":"At Uber, we want to achieve regional resilience such that losing a zone within a region can be tolerated without requiring a cross-region failover. We also want to make sure that losing a zone only affects a subset of workload, at most, rather than everything. However, in Cadence-based systems, the workload in a region is distributed randomly across all workers in the region at a \u201ctask-level granularity\u201d, which means a workflow may be worked on by any worker in the region where the domain is active. To achieve this goal, we introduced Zonal Isolation for Cadence Workflows - a feature designed to pin workflows to the zone they are started in, so that zonal isolation can be achieved at a workflow-level.","date":"2024-10-14T00:00:00.000Z","tags":[{"inline":false,"label":"Deep Dives","permalink":"/Cadence-Docs/blog/tags/deep-dives","description":"Deep Dives tag description"},{"inline":false,"label":"Cadence Operations","permalink":"/Cadence-Docs/blog/tags/cadence-operations","description":"Cadence Operations tag description"}],"readingTime":7.985,"hasTruncateMarker":true,"authors":[{"name":"Zijian Chen","title":"Software Engineer @ Uber","url":"https://www.linkedin.com/in/zijian-chen-5868938b/","page":{"permalink":"/Cadence-Docs/blog/authors/shaddoll"},"socials":{"linkedin":"https://www.linkedin.com/in/zijian-chen-5868938b/","github":"https://github.com/Shaddoll"},"imageURL":"https://github.com/Shaddoll.png","key":"shaddoll"}],"frontMatter":{"title":"Zonal Isolation for Cadence Workflows","subtitle":"test","date":"2024-10-14T00:00:00.000Z","authors":"shaddoll","tags":["deep-dive","cadence-operations"]},"unlisted":false,"prevItem":{"title":"Cadence Repositories Have Moved!","permalink":"/Cadence-Docs/blog/2024/11/18/cadence-workflows-github-organization"},"nextItem":{"title":"Announcement: Cadence Helm Charts v0 Release","permalink":"/Cadence-Docs/blog/2024/10/01/announcing-cadence-helm-charts-v0"}}')}}]);